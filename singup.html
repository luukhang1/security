<!doctype html>
<html lang="en">
  <head>
    <title>Hệ thống điện Hà Nội</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <script src="./signUp.js"></script>
    <!-- Bootstrap CSS v5.0.2 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
      <div class="container header-ngoc">

        <div class="header ">

          <div class="row">
              <div class="col-5">
                <img _ngcontent-ng-cli-universal-c1="" alt="" src="assets/img/logo-small.svg">
              </div>
              <div class="col-7" >

                <nav class="nav justify-content-end">
                  <a class="nav-link active" href="index.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/>
                    <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/>
                  </svg></a>
                  <a class="nav-link" href="registerForm.html">Đăng Kí Điện</a>
                  <a class="nav-link" href="caculatorE.html">Tính Tiền Điện</a>
                  <a class="nav-link " href="payInfo.html">Đóng Tiền</a>
                </nav>
              </div>
          </div>

        </div>

       <div class="img-file">
           <img src="https://apicskh.evnhanoi.com.vn/media/BannerImage/EMFXLOMIVY.png" alt=""style="width:100%">
       </div>
    
      </div>

      <div class="container">

        <div class="row  justify-content-center">
            <div class="login-box col-5">

                <h5 style="color: darkslateblue; text-align: center;">Đăng kí tài khoản</h5>
                <form action="" method="post" id="signin" onsubmit="onSubmitSignUp(event)" name="form">
                    <div>
                      <label for="" class="form-label">Tên đăng nhập</label>
                      <input type="text"
                        class="form-control" name="username" id="username" aria-describedby="helpId">
                        <span class="text-danger" id="usernameValidate"></span>
                    </div>
                    <div >
                        <label for="" class="form-label">Mật khẩu</label>
                        <input type="password"
                          class="form-control" name="password" id="password" aria-describedby="helpId">
                          <span class="text-danger" id="passwordValidate"></span>
                        </div>

                        <div >
                            <label for="" class="form-label">Email</label>
                            <input type="text"
                              class="form-control" name="emailKH" id="emailKH" aria-describedby="helpId" placeholder="Email của khách hàng">
                              <span class="text-danger" id="emailValidate"></span>
                            </div>
    
                      <div >
                          <button type="submit" class="btn btn-success form-control">Đăng kí</button>
                      </div>
                      <div>
                        <p class="tac">Bạn đã có tài khoản? <a class="register-link" href="signIn.html">Đăng nhập</a> ngay.</p>
                      </div>
    
                      <span class="text-danger"></span>
                      
               </div>
        </div>
       
      </div>
     
    <!-- su kien chinh -->

    <div class="container footer">
       <p>© 2021 Bản quyền thuộc TỔNG CÔNG TY ĐIỆN LỰC TP.HÀ NỘI.</p>
        <p>Số ĐKKD 0100101114 do Sở KHĐT Tp. Hà Nội cấp ngày 02/04/2010</p>

    </div>
  
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
  
    <script>
        
        $(document).ready(function(){

    
            $('#password').keyup(function(){
                if($(this).val().trim()!=""){
                    $('#pasValidate').text('');
                } else {
                    $('#pasValidate').text('Không được để trống');
                }
            });

            
            $('#UserName').keyup(function(){
                if($(this).val().trim()!=""){
                    $('#usnValidate').text('');
                } else {
                    $('#usnValidate').text('Không được để trống');
                }
            });

              
            $('#emailKH').keyup(function(){
                if($(this).val().trim()!=""){
                    $('#emailValidate').text('');
                } else {
                    $('#emailValidate').text('Không được để trống');
                }
            });
            
            $('#signup').submit(function(e){
                e.preventDefault();
                let usn = $('#UserName').val();
                let pas = $('#password').val();
                let email = $('#emailKH').val()
                if(usn.trim()=="" || pas.trim()=="" || ma.trim()==""){
                if(usn.trim()==""){
                    $('#usnValidate').text('Không được để trống');
                } if(pas.trim()==""){
                    $('#pasValidate').text('Không được để trống');
                } if(email.trim()==""){
                    $('#emailValidate').text('Không được để trống');
                }
                } else {
                    $.ajax({
                    type: "POST",
                    url : "localhost:3000/api/auth/signup",
                    data : $(this).serialize(),
                    success: function(data)
                    {
                    alert(data); // show response from the php script.
                    },
                    error: function(data){
                       console.log(data)
                    }

                })
                   
            }
              

           
            });
        })
    </script>



</body>
</html>